{"version":3,"names":["_react","require","_reactNative","_iap","_iosSk","_withIAPContext","useIAP","options","connected","products","promotedProductsIOS","subscriptions","purchaseHistory","availablePurchases","currentPurchase","currentPurchaseError","initConnectionError","setConnected","setProducts","setSubscriptions","setAvailablePurchases","setPurchaseHistory","setCurrentPurchase","setCurrentPurchaseError","useIAPContext","optionsRef","useRef","useEffect","current","mergeWithDuplicateCheck","useCallback","existingItems","newItems","getKey","merged","forEach","newItem","isDuplicate","some","existingItem","push","clearCurrentPurchase","undefined","clearCurrentPurchaseError","getProducts","skus","result","iapGetProducts","product","productId","error","console","getSubscriptions","iapGetSubscriptions","subscription","getAvailablePurchases","iapGetAvailablePurchases","getPurchaseHistory","iapGetPurchaseHistory","finishTransaction","purchase","isConsumable","developerPayloadAndroid","iapFinishTransaction","err","restorePurchases","_optionsRef$current","Platform","OS","shouldAutoSyncPurchases","sync","syncError","_optionsRef$current2","_optionsRef$current2$","onSyncError","call","validateReceipt","sku","androidOptions","validateReceiptIos","warn","isValid","message","Error","_optionsRef$current3","onPurchaseSuccess","_optionsRef$current4","onPurchaseError","requestPurchase","iapRequestPurchase","requestSubscription","iapRequestSubscription","exports"],"sourceRoot":"../../../src","sources":["hooks/useIAP.ts"],"mappings":"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"}